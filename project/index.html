<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Discovery - Playlists by Mood</title>
    <meta name="description" content="Discover new music playlists by mood. Find the perfect soundtrack for every moment!">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <link rel="stylesheet" href="css/styles.css"> 
    
    <style>
        /* Custom Variables and Base Styles (Simulating Spotify/Dark Theme) */
        :root {
            --bs-body-bg: #181818;
            --bs-body-color: #fff;
            --sidebar-bg: #121212;
            --card-bg: #222222;
            --highlight-color: #1ed760; /* Spotify Green */
        }

        body {
            background: var(--bs-body-bg);
            color: var(--bs-body-color);
            font-family: 'Segoe UI', Arial, sans-serif;
            padding-bottom: 92px; /* Space for fixed player */
        }
        
        /* Sidebar (Fixed position layout) */
        .sidebar {
            width: 260px;
            background: var(--sidebar-bg);
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            padding: 24px 0;
            box-shadow: 2px 0 12px rgba(0, 0, 0, 0.5);
            z-index: 10;
        }
        
        /* Main content offset */
        .main-content {
            margin-left: 260px;
            padding-top: 36px;
            padding-bottom: 40px;
            min-height: 100vh;
        }

        /* Playlist Card Custom Styling */
        .playlist-card:hover {
            background: #282828 !important;
            transform: translateY(-4px) scale(1.02);
        }
        .playlist-card img {
            width: 130px; /* Adjusting size for card-img-top feel */
            height: 130px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 14px;
            background: #333;
        }
        
        /* Player Bar Customizations */
        .footer-player {
            background: #222;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
            z-index: 100;
        }
        .audio-controls .main-controls button:hover {
            color: var(--highlight-color);
        }

        /* Responsive design using Bootstrap utilities and custom overrides */
        @media (max-width: 992px) { /* Medium screens and down */
            .sidebar {
                width: 70px;
            }
            .sidebar .logo, .sidebar .recent, .sidebar .create-btn {
                display: none !important; /* Hide non-essential sidebar elements */
            }
            .sidebar nav a span {
                display: none;
            }
            .main-content {
                margin-left: 70px;
            }
        }
        @media (max-width: 576px) { /* Small screens and down */
            .sidebar {
                display: none;
            }
            .main-content {
                margin-left: 0;
            }
            .footer-player .volume-controls, .footer-player .audio-player-info {
                width: 100% !important; /* Full width for mobile player parts */
            }
            .footer-player {
                 flex-direction: column;
                 padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar d-flex flex-column">
        <div class="logo text-center text-success fs-3 fw-bold mb-4">Musicify</div>
        <nav class="nav flex-column gap-2 mb-4">
            <a href="index.html" class="nav-link text-white py-2 px-4 rounded-3 active bg-dark" aria-current="page">
                <i class="fas fa-home me-2"></i> <span>Home</span>
            </a>
            <a href="playlists.html" class="nav-link text-white py-2 px-4 rounded-3">
                <i class="fas fa-list-ul me-2"></i> <span>Playlists</span>
            </a>
            <a href="moods.html" class="nav-link text-white py-2 px-4 rounded-3">
                <i class="fas fa-headphones me-2"></i> <span>Moods</span>
            </a>
            <a href="about.html" class="nav-link text-white py-2 px-4 rounded-3">
                <i class="fas fa-info-circle me-2"></i> <span>About</span>
            </a>
        </nav>
        
        <div class="recent px-4 mt-4">
            <h3 class="fs-6 text-secondary mb-2 fw-light">Recently Played</h3>
            <ul class="list-unstyled">
                <li class="text-light opacity-75 mb-1">Chill Vibes</li>
                <li class="text-light opacity-75 mb-1">Energetic Beats</li>
                <li class="text-light opacity-75 mb-1">Focus & Study</li>
            </ul>
        </div>
        
        <button class="btn btn-success rounded-pill fw-bold mt-4 mx-4 create-btn">
            Create New Playlist
        </button>
    </div>
    
    <div class="main-content container-fluid px-4 px-md-5">
        
        <form class="search-bar d-flex align-items-center bg-secondary-subtle rounded-pill p-2 mb-4" id="search-form">
            <i class="fa fa-search text-secondary ms-2 me-2"></i>
            <input type="text" class="form-control bg-transparent border-0 text-white" 
                   placeholder="Search playlists, moods, artists..." id="search-input"/>
        </form>
        
        <div>
            <h2 class="section-title text-white fs-4 fw-bold mt-4 mb-3">Mood Playlists</h2>
            
            <div class="row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 g-3 g-lg-4" id="mood-playlists">
                
                <div class="col">
                    <a href="chillvibes.html" class="playlist-card text-decoration-none d-flex flex-column align-items-center bg-dark p-3 rounded-3 shadow-sm h-100">
                        <img src="images/chillvibes.webp" alt="Chill Vibes" class="mb-3 rounded-2">
                        <div class="playlist-title text-white fw-medium text-center text-truncate w-100">Chill Vibes</div>
                        <div class="playlist-desc text-secondary text-center small text-truncate w-100">Relax and unwind with mellow tunes.</div>
                        <div class="playlist-meta text-muted small mt-1">10 tracks • 40min</div>
                    </a>
                </div>
                
                <div class="col">
                    <a href="energetic.html" class="playlist-card text-decoration-none d-flex flex-column align-items-center bg-dark p-3 rounded-3 shadow-sm h-100">
                        <img src="images/energetic.webp" alt="Energetic Beats" class="mb-3 rounded-2">
                        <div class="playlist-title text-white fw-medium text-center text-truncate w-100">Energetic Beats</div>
                        <div class="playlist-desc text-secondary text-center small text-truncate w-100">Get pumped with high-energy music.</div>
                        <div class="playlist-meta text-muted small mt-1">5 tracks • 17min</div>
                    </a>
                </div>
                
                <div class="col">
                    <a href="focus.html" class="playlist-card text-decoration-none d-flex flex-column align-items-center bg-dark p-3 rounded-3 shadow-sm h-100">
                        <img src="images/focus.webp" alt="Focus & Study" class="mb-3 rounded-2">
                        <div class="playlist-title text-white fw-medium text-center text-truncate w-100">Focus & Study</div>
                        <div class="playlist-desc text-secondary text-center small text-truncate w-100">Stay productive with focused sounds.</div>
                        <div class="playlist-meta text-muted small mt-1">5 tracks • 15min</div>
                    </a>
                </div>
                
                <div class="col">
                    <a href="rainyday.html" class="playlist-card text-decoration-none d-flex flex-column align-items-center bg-dark p-3 rounded-3 shadow-sm h-100">
                        <img src="images/rainyday.webp" alt="Rainy Day Melodies" class="mb-3 rounded-2">
                        <div class="playlist-title text-white fw-medium text-center text-truncate w-100">Rainy Day Melodies</div>
                        <div class="playlist-desc text-secondary text-center small text-truncate w-100">Perfect for cozy, rainy days.</div>
                        <div class="playlist-meta text-muted small mt-1">5 tracks • 17 min</div>
                    </a>
                </div>
            </div>
            
            <h2 class="section-title text-white fs-4 fw-bold mt-5 mb-3">New Releases</h2>
            
            <div class="row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 g-3 g-lg-4" id="new-releases">
                <div class="col">
                    <a href="sadmix.html" class="playlist-card text-decoration-none d-flex flex-column align-items-center bg-dark p-3 rounded-3 shadow-sm h-100">
                        <img src="images/sad mix.webp" alt="Sad Mix" class="mb-3 rounded-2">
                        <div class="playlist-title text-white fw-medium text-center text-truncate w-100">Sad Mix</div>
                        <div class="playlist-desc text-secondary text-center small text-truncate w-100">Emotional tracks for rainy days.</div>
                        <div class="playlist-meta text-muted small mt-1">10 tracks • 45min</div>
                    </a>
                </div>
                <div class="col">
                    <a href="daylist.html" class="playlist-card text-decoration-none d-flex flex-column align-items-center bg-dark p-3 rounded-3 shadow-sm h-100">
                        <img src="images/daylist.webp" alt="Daylist" class="mb-3 rounded-2">
                        <div class="playlist-title text-white fw-medium text-center text-truncate w-100">Daylist</div>
                        <div class="playlist-desc text-secondary text-center small text-truncate w-100">A playlist for every part of your day.</div>
                        <div class="playlist-meta text-muted small mt-1">11 tracks • 45min</div>
                    </a>
                </div>
                <div class="col">
                    <a href="pophits.html" class="playlist-card text-decoration-none d-flex flex-column align-items-center bg-dark p-3 rounded-3 shadow-sm h-100">
                        <img src="images/pophits.webp" alt="Pop Hits" class="mb-3 rounded-2">
                        <div class="playlist-title text-white fw-medium text-center text-truncate w-100">Pop Hits</div>
                        <div class="playlist-desc text-secondary text-center small text-truncate w-100">Today's top pop songs.</div>
                        <div class="playlist-meta text-muted small mt-1">5 tracks • 17min</div>
                    </a>
                </div>
                <div class="col">
                    <a href="rock.html" class="playlist-card text-decoration-none d-flex flex-column align-items-center bg-dark p-3 rounded-3 shadow-sm h-100">
                        <img src="images/rock.webp" alt="Rock Essentials" class="mb-3 rounded-2">
                        <div class="playlist-title text-white fw-medium text-center text-truncate w-100">Rock Essentials</div>
                        <div class="playlist-desc text-secondary text-center small text-truncate w-100">Classic and modern rock.</div>
                        <div class="playlist-meta text-muted small mt-1">10 tracks • 45min</div>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="footer-player fixed-bottom d-flex align-items-center p-3">
        
        <div class="audio-player-info d-flex align-items-center me-3" style="width: 25%;">
            <img id="audio-img" src="images/placeholder.webp" alt="Now Playing" class="rounded-2 me-3" style="width: 60px; height: 60px; object-fit: cover;">
            <div class="info d-flex flex-column">
                <div class="audio-title text-white fw-bold text-truncate" id="audio-title"></div>
                <div class="audio-artist text-secondary small text-truncate" id="audio-artist"></div>
            </div>
        </div>
        
        <div class="audio-controls d-flex flex-column align-items-center flex-grow-1 mx-3">
            <div class="main-controls d-flex align-items-center gap-3">
                <button id="prev-btn" class="btn btn-link text-white p-0 fs-5"><i class="fa-solid fa-backward-step"></i></button>
                <button id="play-pause-btn" class="play-pause-btn btn btn-link text-white p-0 fs-4"><i class="fa-solid fa-play"></i></button>
                <button id="next-btn" class="btn btn-link text-white p-0 fs-5"><i class="fa-solid fa-forward-step"></i></button>
            </div>
            <div class="timeline d-flex align-items-center w-75 mt-2">
                <span id="current-time" class="small text-muted me-2">0:00</span>
                <input type="range" class="form-range flex-grow-1" id="progress-bar" value="0" step="0.1" min="0" max="100">
                <span id="total-time" class="small text-muted ms-2">0:00</span>
            </div>
        </div>
        
        <div class="volume-controls d-flex align-items-center justify-content-end" style="width: 25%;">
            <i class="fa-solid fa-volume-high text-white me-2"></i>
            <input type="range" class="form-range" id="volume-bar" value="100" step="1" min="0" max="100" style="width: 100px;">
        </div>
    </div>
    
    <audio id="audio" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <script>
        // Data for all playlists and their songs (UNCHANGED)
        const allPlaylists = [
            { id: 'chillvibes', title: 'Chill Vibes', artist: 'Exaa Rod010', desc: 'Relax and unwind with mellow tunes.', img: 'images/chillvibes.webp', songs: [
                { title: 'BIRDS OF A FEATHER', artist: 'Billie Eilish', src: 'audio/Billie Eilish - BIRDS OF A FEATHER.mp3' },
                { title: 'Loose', artist: 'Daniel Caesar', src: 'audio/Daniel Caesar - Loose (Lyrics).mp3' },
                { title: 'Happier Than Ever', artist: 'Billie Eilish', src: 'audio/Billie Eilish - Happier Than Ever (Official Music Video).mp3' },
                { title: 'drivers license', artist: 'Olivia Rodrigo', src: 'audio/Olivia Rodrigo - drivers license (Official Video).mp3' },
                { title: 'lovely', artist: 'Billie Eilish, Khalid', src: 'audio/Billie Eilish - lovely (Lyrics) ft. Khalid.mp3' },
                { title: 'When We Were Young', artist: 'Adele', src: 'audio/When We Were Young.mp3' },
                { title: 'Someone You Loved', artist: 'Lewis Capaldi', src: 'audio/Lewis Capaldi - Someone You Loved.mp3' },
                { title: 'Let Her Go', artist: 'Passenger', src: 'audio/Passenger - Let Her Go.mp3' },
                { title: 'All I Want', artist: 'Kodaline', src: 'audio/Kodaline - All I Want.mp3' },
                { title: 'Blinding Lights', artist: 'The Weeknd', src: 'audio/The Weeknd - Blinding Lights.mp3' },
                { title: 'Super Far', artist: 'Lauv', src: 'audio/Lauv - Super Far.mp3' },
                { title: 'Someone You Loved', artist: 'Lewis Capaldi', src: 'audio/Lewis Capaldi - Someone You Loved.mp3' },
                { title: 'Before You Go', artist: 'Lewis Capaldi', src: 'audio/Lewis Capaldi - Before You Go.mp3' },
            ]},
            { id: 'energetic', title: 'Energetic Beats', artist: 'Various Artists', desc: 'Get pumped with high-energy music.', img: 'images/energetic.webp', songs: [
                { title: 'Blinding Lights', artist: 'The Weeknd', src: 'audio/The Weeknd - Blinding Lights.mp3' },
                { title: 'Levitating', artist: 'Dua Lipa', src: 'audio/Dua Lipa - Levitating.mp3' },
            ]},
            { id: 'focus', title: 'Focus & Study', artist: 'Various Artists', desc: 'Stay productive with focused sounds.', img: 'images/focus.webp', songs: [
                { title: 'Moonlight Sonata', artist: 'Beethoven', src: 'audio/Beethoven - Moonlight Sonata.mp3' },
                { title: 'River Flows in You', artist: 'Yiruma', src: 'audio/Yiruma - River Flows in You.mp3' },
            ]},
            { id: 'rainyday', title: 'Rainy Day Melodies', artist: 'Various Artists', desc: 'Perfect for cozy, rainy days.', img: 'images/rainyday.webp', songs: [
                { title: 'Hello', artist: 'Adele', src: 'audio/Adele - Hello.mp3' },
                { title: 'Hallelujah', artist: 'Leonard Cohen', src: 'audio/Leonard Cohen - Hallelujah.mp3' },
            ]},
            { id: 'sadmix', title: 'Sad Mix', artist: 'Various Artists', desc: 'Emotional tracks for rainy days.', img: 'images/sad mix.webp', songs: [
                { title: 'Let Her Go', artist: 'Passenger', src: 'audio/Passenger - Let Her Go.mp3' },
                { title: 'All I Want', artist: 'Kodaline', src: 'audio/Kodaline - All I Want.mp3' },
            ]},
            { id: 'daylist', title: 'Daylist', artist: 'Various Artists', desc: 'A playlist for every part of your day.', img: 'images/daylist.webp', songs: [
                { title: 'Lovely Day', artist: 'Bill Withers', src: 'audio/Bill Withers - Lovely Day.mp3' },
                { title: 'Here Comes the Sun', artist: 'The Beatles', src: 'audio/The Beatles - Here Comes the Sun.mp3' },
            ]},
            { id: 'pophits', title: 'Pop Hits', artist: 'Various Artists', desc: "Today's top pop songs.", img: 'images/pophits.webp', songs: [
                { title: 'Shake It Off', artist: 'Taylor Swift', src: 'audio/Taylor Swift - Shake It Off.mp3' },
                { title: 'Shape of You', artist: 'Ed Sheeran', src: 'audio/Ed Sheeran - Shape of You.mp3' },
            ]},
            { id: 'rock', title: 'Rock Essentials', artist: 'Various Artists', desc: 'Classic and modern rock.', img: 'images/rock.webp', songs: [
                { title: 'Bohemian Rhapsody', artist: 'Queen', src: 'audio/Queen - Bohemian Rhapsody.mp3' },
                { title: 'Stairway to Heaven', artist: 'Led Zeppelin', src: 'audio/Led Zeppelin - Stairway to Heaven.mp3' },
            ]},
        ];

        // Player State (UNCHANGED)
        const player = {
            isPlaying: false,
            currentSongIndex: -1,
            currentPlaylist: allPlaylists[0].songs, // Start with Chill Vibes songs
            titleEl: document.getElementById('audio-title'),
            artistEl: document.getElementById('audio-artist'),
            imgEl: document.getElementById('audio-img'),
            playPauseBtn: document.getElementById('play-pause-btn'),
            audioEl: document.getElementById('audio'),
            progressBar: document.getElementById('progress-bar'),
            currentTimeEl: document.getElementById('current-time'),
            totalTimeEl: document.getElementById('total-time'),
            volumeBar: document.getElementById('volume-bar'),
        };

        // Initialize Player with a default track (UNCHANGED)
        function initializePlayer() {
            player.currentSongIndex = 0;
            updatePlayerDisplay(player.currentPlaylist[0]);
            player.audioEl.volume = player.volumeBar.value / 100;
        }

        // Update the display for the player (UNCHANGED)
        function updatePlayerDisplay(song) {
            player.titleEl.textContent = song.title;
            player.artistEl.textContent = song.artist;
            const currentPlaylist = allPlaylists.find(p => p.songs.includes(song));
            if (currentPlaylist) {
                player.imgEl.src = currentPlaylist.img;
            } else {
                player.imgEl.src = 'images/placeholder.webp'; // Fallback image
            }
            player.audioEl.src = song.src;
        }

        // Toggle Play/Pause (UNCHANGED)
        function togglePlayPause() {
            if (player.isPlaying) {
                player.audioEl.pause();
                player.playPauseBtn.innerHTML = '<i class="fa-solid fa-play"></i>';
            } else {
                player.audioEl.play();
                player.playPauseBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
            }
            player.isPlaying = !player.isPlaying;
        }

        // Play Next Song (UNCHANGED)
        function playNext() {
            player.currentSongIndex = (player.currentSongIndex + 1) % player.currentPlaylist.length;
            updatePlayerDisplay(player.currentPlaylist[player.currentSongIndex]);
            player.audioEl.play();
            player.isPlaying = true;
            player.playPauseBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
        }

        // Play Previous Song (UNCHANGED)
        function playPrev() {
            player.currentSongIndex = (player.currentSongIndex - 1 + player.currentPlaylist.length) % player.currentPlaylist.length;
            updatePlayerDisplay(player.currentPlaylist[player.currentSongIndex]);
            player.audioEl.play();
            player.isPlaying = true;
            player.playPauseBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
        }

        // Format time in minutes and seconds (UNCHANGED)
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            const formattedSeconds = remainingSeconds < 10 ? `0${remainingSeconds}` : remainingSeconds;
            return `${minutes}:${formattedSeconds}`;
        }
        
        // --- Event Listeners --- (UNCHANGED)
        document.getElementById('play-pause-btn').addEventListener('click', togglePlayPause);
        document.getElementById('next-btn').addEventListener('click', playNext);
        document.getElementById('prev-btn').addEventListener('click', playPrev);

        // Timeline and Progress Bar Updates (UNCHANGED)
        player.audioEl.addEventListener('loadedmetadata', () => {
            player.progressBar.max = player.audioEl.duration;
            player.totalTimeEl.textContent = formatTime(player.audioEl.duration);
        });

        player.audioEl.addEventListener('timeupdate', () => {
            player.progressBar.value = player.audioEl.currentTime;
            player.currentTimeEl.textContent = formatTime(player.audioEl.currentTime);
        });

        player.progressBar.addEventListener('input', () => {
            player.audioEl.currentTime = player.progressBar.value;
        });

        // Volume Control (UNCHANGED)
        player.volumeBar.addEventListener('input', () => {
            player.audioEl.volume = player.volumeBar.value / 100;
            const volumeIcon = document.querySelector('.volume-controls i');
            const volume = player.audioEl.volume;
            if (volume === 0) {
                volumeIcon.classList.remove('fa-volume-high', 'fa-volume-low');
                volumeIcon.classList.add('fa-volume-off');
            } else if (volume < 0.5) {
                volumeIcon.classList.remove('fa-volume-high', 'fa-volume-off');
                volumeIcon.classList.add('fa-volume-low');
            } else {
                volumeIcon.classList.remove('fa-volume-low', 'fa-volume-off');
                volumeIcon.classList.add('fa-volume-high');
            }
        });

        // Auto-play next song when current one ends (UNCHANGED)
        player.audioEl.addEventListener('ended', playNext);

        // Initial player setup (UNCHANGED)
        initializePlayer();
    </script>
</body>
</html>